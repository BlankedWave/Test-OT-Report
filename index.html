<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OT Evaluation Report Generator</title>
  <style>
    /* Basic styling for a clean, form-based layout */
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: #f7f7f7;
    }
    .container {
      max-width: 900px;
      margin: auto;
      background-color: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }
    h1, h2 {
      text-align: center;
    }
    form > div {
      margin-bottom: 20px;
    }
    .input-group, .textarea-group {
      margin-bottom: 15px;
    }
    .input-group label, .textarea-group label {
      display: block;
      font-weight: bold;
      margin-bottom: 5px;
    }
    .input-group input, .textarea-group textarea {
      width: 100%;
      padding: 8px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    .textarea-group textarea {
      height: 100px;
      resize: vertical;
    }
    .checkbox-group {
      margin-left: 15px;
    }
    .checkbox-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: normal;
    }
    button {
      width: 100%;
      padding: 15px;
      font-size: 16px;
      color: #fff;
      background-color: #4CAF50;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-bottom: 10px;
    }
    button:hover {
      background-color: #45a049;
    }
    #output {
      white-space: pre-wrap;
      background-color: #e9e9e9;
      padding: 15px;
      border-radius: 4px;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>OT Evaluation Report Generator</h1>
    <form id="reportForm">
      <!-- General Information Section -->
      <h2>General Information</h2>
      <div class="input-group">
        <label for="studentName">Student Name:</label>
        <input type="text" id="studentName" placeholder="Enter student's name" />
      </div>
      <div class="input-group">
        <label for="dateEvaluation">Date of Evaluation:</label>
        <input type="date" id="dateEvaluation" />
      </div>
      <div class="input-group">
        <label for="dateBirth">Date of Birth:</label>
        <input type="date" id="dateBirth" />
      </div>
      <div class="input-group">
        <label for="age">Chronological Age:</label>
        <input type="text" id="age" placeholder="Enter age" />
      </div>
      <div class="input-group">
        <label for="schoolName">School/Company:</label>
        <input type="text" id="schoolName" placeholder="Enter school or company name" />
      </div>
      <div class="input-group">
        <label for="grade">Grade:</label>
        <input type="text" id="grade" placeholder="Enter grade" />
      </div>
      <div class="input-group">
        <label for="evaluator">Evaluator (OT):</label>
        <input type="text" id="evaluator" placeholder="Enter evaluator's name" />
      </div>
      <div class="input-group">
        <label for="gender">Gender:</label>
        <input type="text" id="gender" placeholder="Enter gender" />
      </div>

      <!-- Purpose of Evaluation -->
      <div class="textarea-group">
        <label for="purpose">Purpose of Evaluation:</label>
        <textarea id="purpose" placeholder="Enter purpose of evaluation"></textarea>
      </div>

      <!-- Evidence of Information -->
      <div class="textarea-group">
        <label for="evidence">Evidence of Information:</label>
        <textarea id="evidence" placeholder="Enter evidence of information"></textarea>
      </div>

      <!-- Validity Statement -->
      <div class="textarea-group">
        <label for="validity">Validity Statement:</label>
        <textarea id="validity" placeholder="Enter validity statement"></textarea>
      </div>

      <!-- Background and Presenting Concerns -->
      <div class="textarea-group">
        <label for="background">Background and Presenting Concerns:</label>
        <textarea id="background" placeholder="Enter background and presenting concerns"></textarea>
      </div>

      <!-- OT Profile -->
      <div class="textarea-group">
        <label for="otProfile">OT Profile:</label>
        <textarea id="otProfile" placeholder="Enter OT profile information"></textarea>
      </div>

      <!-- Behaviors During Testing -->
      <div class="textarea-group">
        <label for="behaviors">Behaviors During Testing:</label>
        <textarea id="behaviors" placeholder="Enter behaviors during testing"></textarea>
      </div>

      <!-- Motor Skills / Sensory Motor Development -->
      <div class="textarea-group">
        <label for="motorSkills">Motor Skills / Sensory Motor Development:</label>
        <textarea id="motorSkills" placeholder="Enter observations related to motor skills and sensory motor development"></textarea>
      </div>

      <!-- Summary -->
      <div class="textarea-group">
        <label for="summary">Summary:</label>
        <textarea id="summary" placeholder="Enter summary"></textarea>
      </div>

      <!-- Recommendations -->
      <h2>Recommendations</h2>
      <div class="checkbox-group">
        <label><input type="checkbox" value="Allow extra time with written assignments."> Allow extra time with written assignments.</label>
        <label><input type="checkbox" value="Allow use of a word processor for written output."> Allow use of a word processor for written output.</label>
        <label><input type="checkbox" value="Use graphic organizers."> Use graphic organizers.</label>
        <label><input type="checkbox" value="Use modified paper (e.g., graph paper or raised line paper)."> Use modified paper (e.g., graph paper or raised line paper).</label>
        <label><input type="checkbox" value="Incorporate a multi-sensory approach in therapy sessions."> Incorporate a multi-sensory approach in therapy sessions.</label>
        <label><input type="checkbox" value="Allow frequent movement breaks."> Allow frequent movement breaks.</label>
        <label><input type="checkbox" value="Provide positive reinforcement."> Provide positive reinforcement.</label>
        <label><input type="checkbox" value="Break down tasks into manageable units."> Break down tasks into manageable units.</label>
        <label><input type="checkbox" value="Use checklists."> Use checklists.</label>
        <label><input type="checkbox" value="Provide short breaks when refocusing is needed."> Provide short breaks when refocusing is needed.</label>
      </div>
      <div class="textarea-group">
        <label for="additionalRecs">Additional Recommendations:</label>
        <textarea id="additionalRecs" placeholder="Enter any additional recommendations"></textarea>
      </div>

      <button type="button" id="generateBtn">Generate Report</button>
    </form>
    <button type="button" id="downloadBtn" style="display: none;">Download PDF</button>
    <div id="output"></div>
  </div>
  
  <!-- jsPDF Library via CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script>
    document.getElementById('generateBtn').addEventListener('click', function() {
      // Collect General Information
      let studentName = document.getElementById('studentName').value;
      let dateEvaluation = document.getElementById('dateEvaluation').value;
      let dateBirth = document.getElementById('dateBirth').value;
      let age = document.getElementById('age').value;
      let schoolName = document.getElementById('schoolName').value;
      let grade = document.getElementById('grade').value;
      let evaluator = document.getElementById('evaluator').value;
      let gender = document.getElementById('gender').value;
      
      // Collect Textareas
      let purpose = document.getElementById('purpose').value;
      let evidence = document.getElementById('evidence').value;
      let validity = document.getElementById('validity').value;
      let background = document.getElementById('background').value;
      let otProfile = document.getElementById('otProfile').value;
      let behaviors = document.getElementById('behaviors').value;
      let motorSkills = document.getElementById('motorSkills').value;
      let summary = document.getElementById('summary').value;
      let additionalRecs = document.getElementById('additionalRecs').value;
      
      // Get selected recommendations
      let recs = [];
      document.querySelectorAll('.checkbox-group input[type="checkbox"]').forEach(function(checkbox) {
        if (checkbox.checked) {
          recs.push(checkbox.value);
        }
      });
      
      // Construct the report using the sample format from the provided PDF
      let report = "";
      report += "CONFIDENTIAL REPORT\n";
      report += "OCCUPATIONAL THERAPY EVALUATION\n\n";
      
      // General Information Section
      report += "General Information\n";
      report += "-------------------\n";
      report += "Student Name: " + studentName + "\n";
      report += "Date of Evaluation: " + dateEvaluation + "\n";
      report += "Date of Birth: " + dateBirth + "\n";
      report += "Chronological Age: " + age + "\n";
      report += "School/Company: " + schoolName + "\n";
      report += "Grade: " + grade + "\n";
      report += "Evaluator (OT): " + evaluator + "\n";
      report += "Gender: " + gender + "\n\n";
      
      // Purpose of Evaluation Section
      report += "Purpose of Evaluation\n";
      report += "---------------------\n";
      report += purpose + "\n\n";
      
      // Evidence of Information Section
      report += "Evidence of Information\n";
      report += "-----------------------\n";
      report += evidence + "\n\n";
      
      // Validity Statement Section
      report += "Validity Statement\n";
      report += "------------------\n";
      report += validity + "\n\n";
      
      // Background and Presenting Concerns Section
      report += "Background and Presenting Concerns\n";
      report += "------------------------------------\n";
      report += background + "\n\n";
      
      // OT Profile Section
      report += "OT Profile\n";
      report += "----------\n";
      report += otProfile + "\n\n";
      
      // Behaviors During Testing Section
      report += "Behaviors During Testing\n";
      report += "------------------------\n";
      report += behaviors + "\n\n";
      
      // Motor Skills / Sensory Motor Development Section
      report += "Motor Skills / Sensory Motor Development\n";
      report += "-----------------------------------------\n";
      report += motorSkills + "\n\n";
      
      // Summary Section
      report += "Summary\n";
      report += "-------\n";
      report += summary + "\n\n";
      
      // Recommendations Section
      report += "Recommendations\n";
      report += "---------------\n";
      if (recs.length > 0) {
        report += recs.join("\n") + "\n";
      }
      if (additionalRecs.trim() !== "") {
        report += additionalRecs + "\n";
      }
      
      // Display the generated report
      document.getElementById('output').innerText = report;
      document.getElementById('downloadBtn').style.display = "block";
    });
    
    // Download the generated report as a PDF using jsPDF
    document.getElementById('downloadBtn').addEventListener('click', function() {
      const reportText = document.getElementById('output').innerText;
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      const lines = doc.splitTextToSize(reportText, 180);
      doc.text(lines, 10, 10);
      doc.save('OT_Evaluation_Report.pdf');
    });
  </script>
</body>
</html>
